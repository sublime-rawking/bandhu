generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model give_ask {
  id        Int      @id @unique @default(autoincrement())
  date      DateTime @db.DateTime
  given     String   @db.Text
  ask       String   @db.Text
  remark    String   @db.Text
  status    Int      @default(1)
  member_id Int
  member    members  @relation(fields: [member_id], references: [id]) // Foreign key
}

model members {
  id            Int        @id @unique @default(autoincrement())
  name          String     @db.VarChar(150)
  mobile        String     @db.VarChar(20)
  profile_image String?    @db.Text
  dcp           String?    @db.Text
  email         String     @db.VarChar(50)
  password      String     @db.VarChar(50)
  otp           String?    @db.Text
  status        Int        @default(1)
  add_by        String     @default("") @db.Text
  otp_validity  DateTime?  @db.DateTime
  created_at    DateTime   @default(now()) @db.DateTime
  updated_at    DateTime   @default(now()) @updatedAt @db.DateTime
  give_asks     give_ask[] // One-to-many relationship with GiveAsk model

  @@index([mobile], map: "mobile")
}

model users {
  id         Int       @id @default(autoincrement())
  username   String    @db.VarChar(100)
  password   String    @db.VarChar(255)
  email      String    @db.VarChar(255)
  last_login DateTime? @db.DateTime
  status     Int       @default(1) @db.Int
  created_at DateTime  @default(now()) @db.DateTime
  updated_at DateTime  @default(now()) @updatedAt @db.DateTime

  @@index([username], map: "username")
  @@index([email], map: "email")
}

